{% extends 'base.html' %}
<main>
    <nav style="margin-bottom: 20px; border-bottom: 2px solid; padding-left: 30px">
        <ul>
            <li><a href="{% url 'contacts:add_contact' %}" role="button">Add New Contact</a></li>
        </ul>
    </nav>
    {% block messages %}
        <ul class="messages" id="messages-list">
            {% if messages %}
                {% for message in messages %}
                    <li>
                        {% if message.tags %}
                            <div class="alert alert-{{ message.tags }} msg fade show">{{ message }}</div>
                        {% else %}
                            <div class="alert alert-info msg fade show" role="alert">{{ message }}</div>
                        {% endif %}
                    </li>
                {% endfor %}
            {% endif %}
        </ul>
    {% endblock %}

    {% block content %}
        <table>
            <tr>
                <th>Name</th>
                <th>Phones</th>
                <th>Email</th>
                <th>Birthday</th>
                <th>Address</th>
            </tr>
            {% for contact in contacts %}
                <tr>
                    <td>{{ contact.name }}</td>
                    <td>{{ contact.phones|join(', ', attribute='phone_number') }}</td>
                    <td>{{ contact.email }}</td>
                    <td>{{ contact.birthday }}</td>
                    <td>{{ contact.address }}</td>
                    <td><a href="{% url 'contacts:update_contact' contact.id %}" role="button">Update</a></td>
                    <td><a href="{% url 'contacts:delete_contact' contact.id %}" role="button">Delete</a></td>
                </tr>
            {% endfor %}
        </table>
    {% endblock %}
</main>
